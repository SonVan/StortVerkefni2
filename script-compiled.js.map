{"version":3,"sources":["script-video.js","script-index.js"],"names":[],"mappings":"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","file":"script-compiled.js","sourcesContent":["/**\r\n * VideoPlayer\r\n */\r\nclass Videoplayer {\r\n\r\n  constructor() {\r\n\tthis.title_container = document.querySelector('#video__title');\r\n\tvar videoplayer = document.querySelector('.videoPlayer');\r\n\tvar back = document.querySelector('.button__back');\r\n\tback.addEventListener('click', this.goBack.bind(this));\r\n\r\n  this.video_container = document.createElement('div');\r\n\tthis.video_container.setAttribute('class', 'video__container');\r\n  this.controls_container = document.createElement('div');\r\n\tthis.controls_container.setAttribute('class', 'video__controls');\r\n\r\n\tvideoplayer.appendChild(this.video_container);\r\n\tvideoplayer.appendChild(this.controls_container);\r\n  }\r\n\r\n  goBack() {\r\n\twindow.location.href = \"../\";\r\n  }\r\n\r\n  load() {\r\n\tthis.createControlsElement();\r\n\tthis.createVideoElement();\r\n\tthis.id = window.location.search.substr(4);\r\n\tthis.fetchData();\r\n  }\r\n\r\n  fetchData(data){\r\n  var currentUrl = window.location.pathname;\r\n\tvar API_URL = currentUrl.replace('video.html', 'videos.json');\r\n    var request = new XMLHttpRequest();\r\n    request.open('GET', API_URL, true);\r\n    var Videoplayer = this;\r\n\r\n\trequest.onload = function() {\r\n      if (request.status < 400) {\r\n\t\tvar data = JSON.parse(request.response);\r\n\t\tVideoplayer.loadVideo(data);\r\n      } else {\r\n        this.showError();\r\n      }\r\n    };\r\n\r\n    request.onerror = function() {\r\n      this.showError();\r\n    };\r\n\r\n    request.send();\r\n\r\n  }\r\n\r\n  play() {\r\n\tthis.buttons.play.setAttribute('class', 'button__hidden');\r\n\tthis.buttons.pause.setAttribute('class', 'button');\r\n\tthis.video_overlay.setAttribute('class', 'video__overlay__hidden');\r\n\tthis.video.play();\r\n  }\r\n\r\n  pause() {\r\n\tthis.buttons.play.setAttribute('class', 'button');\r\n\tthis.buttons.pause.setAttribute('class', 'button__hidden');\r\n\tthis.video_overlay.setAttribute('class', 'video__overlay');\r\n\tthis.video.pause();\r\n  }\r\n\r\n  rewind() {\r\n\tthis.video.currentTime -= 3;\r\n  }\r\n\r\n  forward() {\r\n\tthis.video.currentTime += 3;\r\n  }\r\n\r\n  mute() {\r\n\tthis.buttons.mute.setAttribute('class', 'button__hidden');\r\n\tthis.buttons.unmute.setAttribute('class', 'button');\r\n\tthis.video.muted = true;\r\n  }\r\n\r\n  unmute() {\r\n\tthis.buttons.mute.setAttribute('class', 'button');\r\n\tthis.buttons.unmute.setAttribute('class', 'button__hidden');\r\n\tthis.video.muted = false;\r\n  }\r\n\r\n  fullscreen() {\r\n    this.launchIntoFullscreen(this.video);\r\n\r\n  }\r\n\r\n  launchIntoFullscreen(element) {\r\n    if(element.requestFullscreen) {\r\n      element.requestFullscreen();\r\n    } else if(element.mozRequestFullScreen) {\r\n      element.mozRequestFullScreen();\r\n    } else if(element.webkitRequestFullscreen) {\r\n      element.webkitRequestFullscreen();\r\n    } else if(element.msRequestFullscreen) {\r\n      element.msRequestFullscreen();\r\n    }\r\n  }\r\n\r\n  showError() {\r\n\tvar error = document.createElement('p');\r\n\terror.appendChild(document.createTextNode('Videó er ekki til'));\r\n\tthis.video_container.insertBefore(error, this.video_container.firstChild);\r\n  }\r\n\r\n  loadVideo(data) {\r\n\tif(!data.videos[this.id-1]){\r\n\t  this.showError();\r\n\t}\r\n\telse {\r\n\t  this.video_overlay.setAttribute('class', 'video__overlay');\r\n\t  overlay.addEventListener('click',this.play.bind(this),false);\r\n\t  this.title_container.innerHTML = data.videos[this.id-1].title;\r\n\t  this.video = this.video_container.querySelector('video');\r\n\t  this.videosrc = data.videos[this.id-1].video;\r\n\t  this.video.setAttribute('src', this.videosrc);\r\n\t  this.videoposter = data.videos[this.id-1].poster;\r\n\t  this.video.setAttribute('poster', this.videoposter);\r\n\t  this.video.addEventListener('ended',this.pause.bind(this),false);\r\n\t  this.video.addEventListener('click',this.pause.bind(this),false);\r\n\t  this.video.addEventListener('playing', this.play.bind(this),false);\r\n\t  this.video.addEventListener('pause', this.pause.bind(this),false);\r\n\t  this.loadControls();\r\n\t}\r\n  }\r\n\r\n  loadControls() {\r\n\tvar play = this.controls_container.querySelector('#play');\r\n\tplay.addEventListener('click', this.play.bind(this));\r\n\tvar pause = this.controls_container.querySelector('#pause');\r\n\tpause.addEventListener('click', this.pause.bind(this));\r\n\tvar rewind = this.controls_container.querySelector('#rewind');\r\n\trewind.addEventListener('click', this.rewind.bind(this));\r\n\tvar forward = this.controls_container.querySelector('#forward');\r\n\tforward.addEventListener('click', this.forward.bind(this));\r\n\tvar mute = this.controls_container.querySelector('#mute');\r\n\tmute.addEventListener('click', this.mute.bind(this));\r\n\tvar unmute = this.controls_container.querySelector('#unmute');\r\n\tunmute.addEventListener('click', this.unmute.bind(this));\r\n\tvar fullscreen = this.controls_container.querySelector('#fullscreen');\r\n\tfullscreen.addEventListener('click', this.fullscreen.bind(this));\r\n\r\n\tthis.buttons = {\r\n\t  play,\r\n\t  pause,\r\n\t  rewind,\r\n\t  forward,\r\n\t  mute,\r\n\t  unmute,\r\n\t  fullscreen,\r\n\t}\r\n  }\r\n\r\n  createVideoElement() {\r\n\tthis.video = document.createElement('video');\r\n\tthis.video.setAttribute('class', 'video');\r\n\tthis.video_overlay = document.createElement('div');\r\n\tthis.video_overlay.setAttribute('class', 'video__overlay__hidden');\r\n\tthis.video_overlay.setAttribute('id', 'overlay');\r\n\tvar playbutton = document.createElement('button');\r\n\tplaybutton.setAttribute('class', 'button');\r\n\tplaybutton.setAttribute('id', 'play');\r\n\r\n\tthis.video_overlay.appendChild(playbutton);\r\n\tthis.video_container.appendChild(this.video);\r\n\tthis.video_container.appendChild(this.video_overlay);\r\n  }\r\n\r\n  createbutton(name) {\r\n\tvar button = document.createElement('button');\r\n\tbutton.setAttribute('class', 'button');\r\n\tbutton.setAttribute('id', name);\r\n\tthis.controls_container.appendChild(button);\r\n\treturn button;\r\n  }\r\n\r\n  createControlsElement() {\r\n\tvar rewind = this.createbutton('rewind');\r\n\tvar play = this.createbutton('play');\r\n\tvar pause = this.createbutton('pause');\r\n\tpause.setAttribute('class', 'button__hidden');\r\n\tvar mute = this.createbutton('mute');\r\n\tvar unmute = this.createbutton('unmute');\r\n\tunmute.setAttribute('class', 'button__hidden');\r\n\tvar fullscreen = this.createbutton('fullscreen');\r\n\tvar forward = this.createbutton('forward');\r\n\r\n\tthis.buttons = {\r\n\t  play,\r\n\t  pause,\r\n\t  rewind,\r\n\t  forward,\r\n\t  mute,\r\n\t  unmute,\r\n\t  fullscreen,\r\n\t}\r\n  }\r\n}\r\n","\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n  var currentLocation = window.location.pathname;\r\n  var urlLastEntry = currentLocation.split(\"/\").pop();\r\n  if (urlLastEntry === \"\" ||\r\n      urlLastEntry === \"index.html\") {\r\n    var API_URL = \"/videos.json\";\r\n    if (currentLocation === \"/svn5/vefforritun/stort-verkefni-2/\" ||\r\n        currentLocation === \"/svn5/vefforritun/stort-verkefni-2/index.html\") {\r\n      API_URL = \"/svn5/vefforritun/stort-verkefni-2/videos.json\";\r\n    } else if (currentLocation === \"/ths220/vefforritun/stort-verkefni-2/\" ||\r\n               currentLocation === \"/ths220/vefforritun/stort-verkefni-2/index.html\") {\r\n      API_URL = \"/ths220/vefforritun/stort-verkefni-2/videos.json\";\r\n    }\r\n    writeHTML.fetchData(API_URL);\r\n  }\r\n\r\n  if (urlLastEntry === \"video.html\") {\r\n    const videoplayer = new Videoplayer();\r\n    videoplayer.load();\r\n  }\r\n});\r\n\r\n/**\r\n* Forrit sem skrifar html síðu eftir .json skrá,\r\n*/\r\nvar writeHTML = (function() {\r\n  var allData;\r\n  var main = document.querySelector(\"main\");\r\n  var row;\r\n\r\n  // Nær í gögnin og kallar á write() til að skrifa html.\r\n  function fetchData(API_URL) {\r\n    var fetch = new XMLHttpRequest();\r\n\r\n    showLoading();\r\n\r\n    fetch.open(\"GET\", API_URL, true);\r\n    fetch.onload = function() {\r\n      var data = JSON.parse(fetch.response);\r\n      if (fetch.status >= 200 && fetch.status < 400) {\r\n        allData = data;\r\n        write();\r\n      } else {\r\n        showError(\"Villa kom upp: \" + data.error);\r\n      }\r\n      window.setTimeout(stopLoading, 350);\r\n    }\r\n    fetch.send();\r\n  }\r\n\r\n  // Kallar á writeCategory() til að búa til flokk, og kallar á writeVideo()\r\n  // fyrir hvert myndband sem á að vera inni í flokknum.\r\n  function write() {\r\n    var cLength = allData.categories.length;\r\n\r\n    for (var i = 0; i < cLength; i++) {\r\n      var vLength = allData.categories[i].videos.length;\r\n      var categoryTitle = allData.categories[i].title;\r\n      writeCategory(categoryTitle);\r\n      for (var j = 0; j < vLength; j++) {\r\n        var videoID = allData.categories[i].videos[j];\r\n        writeVideo(videoID);\r\n      }\r\n    }\r\n  }\r\n\r\n  // Skrifar titil á videoflokk og bætir við línu fyrir neðan.\r\n  function writeCategory(categoryTitle) {\r\n    var section = document.createElement(\"section\");\r\n    var hr = document.createElement(\"hr\");\r\n\r\n    var h1 = document.createElement(\"h1\");\r\n    h1.setAttribute(\"class\", \"categoryTitle\");\r\n    h1.appendChild(document.createTextNode(categoryTitle));\r\n\r\n    var div = document.createElement(\"div\");\r\n    div.setAttribute(\"class\", \"row\");\r\n\r\n    section.appendChild(h1);\r\n    section.appendChild(div);\r\n    main.appendChild(section);\r\n    main.appendChild(hr);\r\n\r\n    row = div;\r\n  }\r\n\r\n  // Bætir myndbandi við videoflokk.\r\n  function writeVideo(videoID) {\r\n    var title = allData.videos[videoID-1].title;\r\n    var created = timeSince(allData.videos[videoID-1].created);\r\n    var duration = secToDuration(allData.videos[videoID-1].duration);\r\n    var poster = allData.videos[videoID-1].poster;\r\n    var video = \"video.html?id=\" + videoID;\r\n\r\n    var outerDiv = document.createElement(\"div\");\r\n    outerDiv.setAttribute(\"class\", \"videoListing col col-6 col-sm-12\");\r\n\r\n    var innerDiv1 = document.createElement(\"a\");\r\n    innerDiv1.setAttribute(\"href\", video);\r\n    innerDiv1.setAttribute(\"class\", \"thumbnail\");\r\n\r\n    var innerDiv2 = document.createElement(\"div\");\r\n    innerDiv2.setAttribute(\"class\", \"description\");\r\n\r\n    var x2InnerDiv1 = document.createElement(\"img\");\r\n    x2InnerDiv1.setAttribute(\"src\", poster);\r\n    x2InnerDiv1.setAttribute(\"class\", \"image\");\r\n\r\n    var x2InnerDiv2 = document.createElement(\"div\");\r\n    x2InnerDiv2.setAttribute(\"class\", \"videoTime\");\r\n    x2InnerDiv2.appendChild(document.createTextNode(duration));\r\n\r\n    var x2InnerDiv3 = document.createElement(\"a\");\r\n    x2InnerDiv3.setAttribute(\"href\", video);\r\n    x2InnerDiv3.appendChild(document.createTextNode(title));\r\n\r\n    var x2InnerDiv4 = document.createElement(\"p\");\r\n    x2InnerDiv4.appendChild(document.createTextNode(created));\r\n\r\n    row.appendChild(outerDiv);\r\n    outerDiv.appendChild(innerDiv1);\r\n    outerDiv.appendChild(innerDiv2);\r\n    innerDiv1.appendChild(x2InnerDiv1);\r\n    innerDiv1.appendChild(x2InnerDiv2);\r\n    innerDiv2.appendChild(x2InnerDiv3);\r\n    innerDiv2.appendChild(x2InnerDiv4);\r\n  }\r\n\r\n  // Breytir int sekúndum í tíma á forminu 00:00.\r\n  function secToDuration(seconds) {\r\n    var date = new Date(null);\r\n    date.setSeconds(seconds);\r\n    var result = date.toISOString().substr(14, 5);\r\n    return result;\r\n  }\r\n\r\n  // Breytir date í texta sem segir hversu langur tími hefur liðið.\r\n  function timeSince(date) {\r\n    var now = Date.now();\r\n    var timePassed = now - date;\r\n    var totalSecs = timePassed / 1000;\r\n\r\n    var hours = Math.floor(totalSecs / 3600);\r\n    var days = Math.floor(totalSecs / (60 * 60 * 24));\r\n    var weeks = Math.floor(totalSecs / (60 * 60 * 24 * 7));\r\n    var months = Math.floor(totalSecs / (60 * 60 * 24 * 30));\r\n    var years = Math.floor(totalSecs / (60 * 60 * 24 * 365));\r\n\r\n    if (years === 1) {\r\n      return (\"Fyrir \" + years + \" ári síðan\");\r\n    } else if (years > 1) {\r\n      return (\"Fyrir \" + years + \" árum síðan\");\r\n    } else if (months === 1) {\r\n      return (\"Fyrir \" + months + \" mánuði síðan\");\r\n    } else if (months > 1) {\r\n      return (\"Fyrir \" + months + \" mánuðum síðan\");\r\n    } else if (weeks === 1) {\r\n      return (\"Fyrir \" + weeks + \" viku síðan\");\r\n    } else if (weeks > 1) {\r\n      return (\"Fyrir \" + weeks + \" vikum síðan\");\r\n    } else if (days === 1) {\r\n      return (\"Fyrir \" + days + \" degi síðan\");\r\n    } else if (days > 1) {\r\n      return (\"Fyrir \" + days + \" dögum síðan\");\r\n    } else if (hours === 1) {\r\n      return (\"Fyrir \" + hours + \" klukkustund síðan\");\r\n    } else if (hours > 1) {\r\n      return (\"Fyrir \" + hours + \" klukkustundum síðan\");\r\n    } else {\r\n      return (\"Vantar upphlöðunardagsetningu\");\r\n    }\r\n  }\r\n\r\n  function showLoading() {\r\n    var loading = document.createElement(\"div\");\r\n    loading.setAttribute(\"class\", \"loading\");\r\n\r\n    var img = document.createElement(\"img\");\r\n    img.setAttribute(\"src\", \"loading.gif\");\r\n    img.setAttribute(\"class\", \"gif\");\r\n\r\n    loading.appendChild(img);\r\n    main.appendChild(loading);\r\n  }\r\n\r\n  function stopLoading() {\r\n    var loading = document.querySelector(\".loading\");\r\n    loading.remove();\r\n  }\r\n\r\n  function showError(error) {\r\n    main.appendChild(element(\"p\", error));\r\n  }\r\n\r\n  return {\r\n    fetchData: fetchData\r\n  }\r\n})();\r\n"]}